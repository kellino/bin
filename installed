#!/usr/bin/sh

now=$(date)
yaourt=$(which yaourt)
rclone=$(which rclone)
installed=~/Documents/installed.md

printf "**Installed Software %s**\n\n" "$now" > "$installed"

if [ -x "$yaourt" ]; then
    { yaourt -Qe;

    for f in /usr/local/bin/* ; do
        echo "${f}"
    done  

    for f in ~/.cabal/share/doc/x86_64-linux-ghc-7.10.3/* ; do
        echo "${f}"
    done } >> "$installed"
else
    echo "yaourt not installed"
fi

if [ -x "$rclone" ]; then
    rclone copy "$installed" gdrive:docs && echo "successfully transferred"
else
    echo "unable to transfer file"
fi
